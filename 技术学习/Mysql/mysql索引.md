# mysql索引

### 索引是什么

索引其实也是一张表，该表保存了主键与索引字段，并指向实体表的记录。

### 索引的好处：

1. 大大提高mysql的检索速度；

### 索引的坏处：

1. 降低更新表的速度，因为对表进行insert、update、delete时，mysql不仅要保存数据，还要更新索引文件；
2. 建立索引会占用磁盘空间的索引文件；

### 索引的分类：

1. 普通索引：分为单列索引和组合索引，单列索引，即一个索引只包含一个列，多列索引，即一个索引包含多个列；
2. 唯一索引：索引列的值必须唯一，但允许有空值，如果是组合索引，则列值得组合必须唯一；


### 哪些情况不适合加索引

1. 对于那些在查询中很少使用或者参考的列不应该创建索引。这是因为，既然这些列很少使用到，因此有索引或者无索引，并不能提高查询速度。相反，由于增加了索引，反而降低了系统的维护速度和增大了空间需求。
2. 对于那些只有很少数据值的列也不应该增加索引。这是因为，由于这些列的取值很少，例如人事表的性别列，在查询的结果中，结果集的数据行占了表中数据行的很大比例，即需要在表中搜索的数据行的比例很大。增加索引，并不能明显加快检索速度。
3. 对于那些定义为text, image和[bit数据类型](https://www.baidu.com/s?wd=bit%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B&from=1012015a&fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1dWrjbknjubny7WuAR3Pj6L0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPHR1PjDknjbv)的列不应该增加索引。这是因为，这些列的数据量要么相当大，要么取值很少。
4. 当修改性能远远大于检索性能时，不应该创建索引。这是因为，修改性能和检索性能是互相矛盾的。当增加索引时，会提高检索性能，但是会降低修改性能。当减少索引时，会提高修改性能，降低检索性能。因此，当修改性能远远大于检索性能时，不应该创建索引。
5. 如果每次都需要取表的所有记录；
6. 对于记录比较少的表。

### 索引的数据结构

InnoDB和MyISAM数据存储引擎中使用B+树来保存索引，但是这两种引擎的实现方式不同。









